{"version":3,"sources":["webpack:///src/app/inbox/inbox.page.html","webpack:///src/app/inbox/inbox.module.ts","webpack:///src/app/inbox/inbox.page.scss","webpack:///src/app/inbox/inbox.page.ts","webpack:///src/app/inbox/inbox-routing.module.ts"],"names":["InboxPageModule","imports","declarations","InboxPage","navCtrl","activatedRoute","alertController","rest","transfer","camera","loading","messages","data","type","name","message","error","status","chatImagesArray","logeduser","JSON","parse","localStorage","getItem","console","log","loggedid","users_id","recieverid","snapshot","params","navigateBack","clearInterval","autoSaveInterval","scrollDown","getMessages","setInterval","updateMessages","event","sendRequest","requestType","userId","otherUserId","subscribe","res","unread_messages","chatLength","chat_length","length","i","push","time","messageType","msgType","profilepic","profile_pic","chat_messages","forEach","val","image","obj","date","map","index","Date","currentTime","toLocaleString","hour","minute","hour12","d","format","splitdate","split","dateformatted","messsage","msgToSend","sendMessage","senderUserID","msg","fiedlstosend","content","sendingTime","imageType","create","cssClass","header","buttons","text","handler","takePhotoFromGallery","takePhotoFromCamera","alert","present","onDidDismiss","options","quality","destinationType","DestinationType","DATA_URL","encodingType","EncodingType","JPEG","mediaType","MediaType","PICTURE","correctOrientation","sourceType","getPicture","then","imageData","imagedata","presentLoader","uploadChatImage","saveToPhotoAlbum","err","fileTransfer","random","Math","floor","fileKey","fileName","chunkedMode","httpMethod","mimeType","headers","upload","newProfImage","response","getimage","dismiss","scrollToBottom","selector","template","routes","path","component","InboxPageRoutingModule","forChild","exports"],"mappings":"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","file":"inbox-inbox-module-es5.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\" class=\\\"ion-no-border cheader\\\">\\r\\n\\t <ion-toolbar class=\\\"headBgGlobal\\\">\\r\\n\\t<ion-row>\\r\\n\\t  <ion-col class=\\\"backbtn\\\" size=\\\"2\\\">\\r\\n\\t\\t<div>\\r\\n\\t\\t  <img src=\\\"assets/imgs/icons/backbtn.svg\\\" class=\\\"backSvg\\\" (click)=\\\"goback()\\\">\\r\\n\\t\\t</div>\\r\\n\\t  </ion-col>\\r\\n\\r\\n\\t  <ion-col class=\\\"titleclass\\\" size=\\\"8\\\">\\r\\n\\t\\t<ion-text class=\\\"ctitle\\\">{{name}}</ion-text>\\r\\n\\t  </ion-col>\\r\\n\\r\\n\\t  <ion-col size=\\\"2\\\">\\r\\n\\r\\n\\t  </ion-col>\\r\\n\\t</ion-row>\\r\\n\\t\\t<!-- <ion-buttons slot=\\\"start\\\" class=\\\"backbtn\\\">\\r\\n\\t\\t\\t  <img src=\\\"assets/imgs/icons/backbtn.svg\\\" class=\\\"backSvg\\\" (click)=\\\"goback()\\\">\\r\\n\\t\\t  </ion-buttons>\\r\\n\\t   <ion-title class=\\\"ctitle\\\">{{name}}</ion-title> -->\\r\\n\\t</ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"background\\\">\\r\\n\\t<div class=\\\"wrapper\\\">\\r\\n\\t\\t<div  no-lines *ngFor=\\\"let chat of messages\\\">\\t\\r\\n\\t\\t\\t<div class=\\\"linediv\\\" *ngIf=\\\"chat.date\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"leftline\\\"></div>\\r\\n\\t\\t\\t\\t<div class=\\\"label\\\">{{chat.date}}</div>\\r\\n\\t\\t\\t\\t<div class=\\\"rightline\\\"></div>\\r\\n\\t\\t\\t</div>\\t\\r\\n\\t\\t\\t<div *ngIf=\\\"chat.userId!=loggedid\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"main\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"left\\\">\\r\\n\\t\\t\\t\\t\\t\\t<img src=\\\"{{chat.profilepic}}\\\">\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"chat.messageType=='text'\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"right\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"text\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<p>{{chat.message}}</p>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"time\\\">{{chat.time}}</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"chat.messageType=='attachment'\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"right\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"text\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<img class=\\\"attachment_sender\\\" src=\\\"{{chat.message}}\\\" />\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"time\\\">{{chat.time}}</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"clear\\\"></div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t\\r\\n\\r\\n\\t\\t\\t<div class=\\\"main2\\\" *ngIf=\\\"chat.userId==loggedid\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"right1\\\">\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"chat.messageType=='text'\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"text1\\\" >\\r\\n\\t\\t\\t\\t\\t\\t\\t{{chat.message}}\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"chat.messageType=='attachment'\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"text1\\\">\\r\\n\\t\\t\\t\\t<img class=\\\"attachment_sender\\\" src=\\\"{{chat.message}}\\\" />\\r\\n\\t\\t\\t  </div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t<div class=\\\"clear\\\"></div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t\\r\\n\\r\\n\\t\\t\\r\\n\\r\\n\\t\\t<!-- <div class=\\\"main2\\\">\\r\\n\\t\\t\\t<div class=\\\"right\\\">\\r\\n\\t\\t\\t\\t<img src=\\\"assets/imgs/msgimg.png\\\">\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div> -->\\r\\n\\t</div>\\r\\n\\r\\n</ion-content>\\r\\n<ion-footer>\\r\\n  <ion-toolbar>\\r\\n\\t<div class=\\\"bottomdiv\\\">\\r\\n\\t\\t<div class=\\\"imgdiv\\\" (click)=\\\"selectImages('profile')\\\">\\r\\n\\t\\t\\t<img src=\\\"assets/imgs/icons/attachment.png\\\">\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"inputdiv\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"pinput\\\">\\r\\n\\t\\t\\t\\t\\t<!-- <ion-input placeholder=\\\"Type Your message here...\\\" type=\\\"text\\\" [(ngModel)]=\\\"data.message\\\"></ion-input> -->\\r\\n\\t\\t\\t\\t\\t<ion-textarea\\r\\n\\t\\t\\tclass=\\\"input\\\"\\r\\n\\t\\t\\trows=\\\"1\\\"\\r\\n\\t\\t\\tcols=\\\"20\\\"\\r\\n\\t\\t\\t[(ngModel)]=\\\"data.message\\\"\\r\\n\\t\\t\\tplaceholder=\\\"Type Your message here...\\\"\\r\\n\\t\\t\\t(keypress)=\\\"userTyping($event)\\\"\\r\\n\\t\\t  ></ion-textarea>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<img src=\\\"assets/imgs/icons/send.png\\\" class=\\\"cimg\\\" (click)=\\\"sendMsg()\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"clear\\\"></div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div class=\\\"clear\\\"></div>\\r\\n\\t</div>\\r\\n  </ion-toolbar>\\r\\n</ion-footer>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { InboxPageRoutingModule } from './inbox-routing.module';\r\n\r\nimport { InboxPage } from './inbox.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    InboxPageRoutingModule\r\n  ],\r\n  declarations: [InboxPage]\r\n})\r\nexport class InboxPageModule {}\r\n","export default \".headBg {\\n  --background: #F7F7F7;\\n  padding: 1% 0%;\\n}\\n\\n.menuicon {\\n  color: #000;\\n}\\n\\n.backbtn {\\n  margin-left: 0%;\\n  padding-top: 10px;\\n  padding-left: 18px;\\n}\\n\\n.backSvg {\\n  fill: #333;\\n}\\n\\n.ctitle {\\n  font-size: 18px;\\n  font-weight: 600;\\n}\\n\\n.titleclass {\\n  text-align: center;\\n  padding-top: 8px;\\n}\\n\\n.ios .titleclass {\\n  text-align: center;\\n  padding-top: 11px;\\n}\\n\\n.ios .backbtn {\\n  margin-left: 0%;\\n  padding-top: 12px;\\n  padding-left: 18px;\\n}\\n\\n.ios .headBg {\\n  --background: #F7F7F7;\\n  padding: 3% 0%;\\n}\\n\\n.background {\\n  --background: #F7F7F7;\\n}\\n\\n.wrapper {\\n  width: 90%;\\n  margin: 10% auto;\\n}\\n\\n.linediv {\\n  display: flex;\\n}\\n\\n.leftline {\\n  border-top: 1px solid #BFBFBF;\\n  width: 40%;\\n}\\n\\n.label {\\n  color: #BFBFBF;\\n  font-size: 8px;\\n  text-align: center;\\n  margin-top: -1.5%;\\n  margin-left: 3%;\\n  width: 13%;\\n}\\n\\n.rightline {\\n  border-top: 1px solid #BFBFBF;\\n  width: 40%;\\n  margin-left: 3%;\\n}\\n\\n.main {\\n  width: 90%;\\n  /* display: flex;*/\\n  margin: 5% auto;\\n}\\n\\n.left {\\n  width: 18%;\\n  float: left;\\n  margin-top: 3%;\\n}\\n\\n.left img {\\n  width: 44px;\\n  height: 44px;\\n  border-radius: 50px;\\n}\\n\\n.right {\\n  display: flex;\\n  /*justify-content: flex-end;*/\\n}\\n\\n.text {\\n  padding-top: 2%;\\n}\\n\\n.text p {\\n  margin: 0px;\\n  /*padding: 5%;*/\\n  background: #EBEBEB;\\n  padding: 8px 12px;\\n  width: auto;\\n  border-radius: 10px;\\n  /*float: left;*/\\n  max-width: 250px;\\n}\\n\\n.clear {\\n  clear: both;\\n}\\n\\n.time {\\n  color: #BFBFBF;\\n  font-size: 8px;\\n  margin-top: 2%;\\n}\\n\\n.main2 {\\n  width: 90%;\\n  display: flex;\\n  margin: 5% auto;\\n  justify-content: flex-end;\\n}\\n\\n.right1 {\\n  width: 90%;\\n  float: left;\\n}\\n\\n.text1 {\\n  background: #FE9805;\\n  padding: 8px 12px;\\n  width: auto;\\n  border-radius: 10px;\\n  float: right;\\n  color: #fff;\\n  max-width: -webkit-fill-available;\\n}\\n\\n.text1 p {\\n  margin: 0px;\\n  padding: 5%;\\n  color: #fff;\\n}\\n\\n.bottomdiv {\\n  display: flex;\\n  padding: 3% 2%;\\n}\\n\\n.imgdiv {\\n  width: 15%;\\n  float: left;\\n  margin-top: 2%;\\n}\\n\\n.inputdiv {\\n  border-radius: 8px;\\n  background: #F6F6F6;\\n  width: 80%;\\n  float: left;\\n}\\n\\n.pinput {\\n  font-size: 15px;\\n  color: #000;\\n  padding: 0% 3%;\\n  width: 85%;\\n  float: left;\\n}\\n\\n.cimg {\\n  width: 8%;\\n  float: left;\\n  margin-top: 6%;\\n}\\n\\n.userimage {\\n  width: 10%;\\n  float: right;\\n}\\n\\n.userimage img {\\n  border-radius: 50px;\\n  width: 28px;\\n  height: 28px;\\n}\\n\\n.right-bubble {\\n  width: 90%;\\n  float: left;\\n  margin-bottom: 2%;\\n}\\n\\n.user-message {\\n  width: auto;\\n  background-color: #FF3B5B;\\n  padding: 3px;\\n  border-radius: 5px;\\n  float: right;\\n  padding: 5px;\\n  color: #fff;\\n  max-width: 50%;\\n  min-width: 20%;\\n}\\n\\n.user-message p {\\n  color: #fff;\\n  margin-top: 3%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGluYm94LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHFCQUFBO0VBQ0EsY0FBQTtBQUNGOztBQUNBO0VBQ0MsV0FBQTtBQUVEOztBQUFBO0VBQ0MsZUFBQTtFQUNDLGlCQUFBO0VBQ0Esa0JBQUE7QUFHRjs7QUFEQTtFQUNFLFVBQUE7QUFJRjs7QUFEQTtFQUVFLGVBQUE7RUFDRSxnQkFBQTtBQUdKOztBQURBO0VBQ0Msa0JBQUE7RUFBb0IsZ0JBQUE7QUFLckI7O0FBRkM7RUFDQyxrQkFBQTtFQUFvQixpQkFBQTtBQU10Qjs7QUFKRTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0FBTUo7O0FBSkU7RUFDRSxxQkFBQTtFQUNBLGNBQUE7QUFNSjs7QUFIQTtFQUNFLHFCQUFBO0FBTUY7O0FBSkE7RUFDQyxVQUFBO0VBQ0EsZ0JBQUE7QUFPRDs7QUFMQTtFQUNDLGFBQUE7QUFRRDs7QUFOQTtFQUNDLDZCQUFBO0VBQ0MsVUFBQTtBQVNGOztBQVBBO0VBQ0MsY0FBQTtFQUNHLGNBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLFVBQUE7QUFVSjs7QUFSQTtFQUNDLDZCQUFBO0VBQ0MsVUFBQTtFQUNFLGVBQUE7QUFXSjs7QUFUQTtFQUNDLFVBQUE7RUFDQSxrQkFBQTtFQUNDLGVBQUE7QUFZRjs7QUFWQTtFQUNDLFVBQUE7RUFDQSxXQUFBO0VBQ0EsY0FBQTtBQWFEOztBQVhBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxtQkFBQTtBQWNGOztBQVpBO0VBQ0MsYUFBQTtFQUNDLDZCQUFBO0FBZUY7O0FBYkE7RUFDRSxlQUFBO0FBZ0JGOztBQWJBO0VBQ0MsV0FBQTtFQUNDLGVBQUE7RUFDQSxtQkFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FBZ0JGOztBQWRBO0VBQ0MsV0FBQTtBQWlCRDs7QUFmQTtFQUNFLGNBQUE7RUFDQSxjQUFBO0VBQ0EsY0FBQTtBQWtCRjs7QUFmQTtFQUNDLFVBQUE7RUFDQyxhQUFBO0VBQ0EsZUFBQTtFQUNBLHlCQUFBO0FBa0JGOztBQWhCQTtFQUNFLFVBQUE7RUFDQSxXQUFBO0FBbUJGOztBQWpCQTtFQUNDLG1CQUFBO0VBQ0MsaUJBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGlDQUFBO0FBb0JGOztBQWxCQTtFQUNDLFdBQUE7RUFDRyxXQUFBO0VBQ0EsV0FBQTtBQXFCSjs7QUFuQkE7RUFDQyxhQUFBO0VBQ0csY0FBQTtBQXNCSjs7QUFwQkE7RUFDQyxVQUFBO0VBQ0csV0FBQTtFQUNBLGNBQUE7QUF1Qko7O0FBckJBO0VBQ0Msa0JBQUE7RUFDRyxtQkFBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0FBd0JKOztBQXRCQTtFQUNDLGVBQUE7RUFDQyxXQUFBO0VBQ0EsY0FBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0FBeUJGOztBQXZCQTtFQUNDLFNBQUE7RUFDQyxXQUFBO0VBQ0EsY0FBQTtBQTBCRjs7QUFwQkE7RUFDSSxVQUFBO0VBQ0EsWUFBQTtBQXVCSjs7QUFyQkU7RUFDRSxtQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FBd0JKOztBQXRCRTtFQUNFLFVBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7QUF5Qko7O0FBdkJFO0VBQ0UsV0FBQTtFQUNBLHlCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsY0FBQTtFQUNBLGNBQUE7QUEwQko7O0FBeEJFO0VBQ0UsV0FBQTtFQUNBLGNBQUE7QUEyQkoiLCJmaWxlIjoiaW5ib3gucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmhlYWRCZyB7XHJcbiAgLS1iYWNrZ3JvdW5kOiAjRjdGN0Y3O1xyXG4gIHBhZGRpbmc6IDElIDAlO1xyXG59XHJcbi5tZW51aWNvbntcclxuXHRjb2xvcjojMDAwO1xyXG59XHJcbi5iYWNrYnRue1xyXG5cdG1hcmdpbi1sZWZ0OjAlO1xyXG4gIHBhZGRpbmctdG9wOjEwcHg7XHJcbiAgcGFkZGluZy1sZWZ0OiAxOHB4O1xyXG59XHJcbi5iYWNrU3ZnIHtcclxuICBmaWxsOiAjMzMzO1xyXG59XHJcblxyXG4uY3RpdGxle1xyXG5cdC8vIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBmb250LXNpemU6IDE4cHg7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG59XHJcbi50aXRsZWNsYXNze1xyXG5cdHRleHQtYWxpZ246IGNlbnRlcjsgcGFkZGluZy10b3A6IDhweDtcclxufVxyXG4uaW9ze1xyXG5cdC50aXRsZWNsYXNze1xyXG5cdFx0dGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nLXRvcDogMTFweDtcclxuXHR9XHJcbiAgLmJhY2tidG57XHJcbiAgICBtYXJnaW4tbGVmdDowJTtcclxuICAgIHBhZGRpbmctdG9wOjEycHg7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDE4cHg7XHJcbiAgfVxyXG4gIC5oZWFkQmcge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiAjRjdGN0Y3O1xyXG4gICAgcGFkZGluZzogMyUgMCU7XHJcbiAgfVxyXG59XHJcbi5iYWNrZ3JvdW5ke1xyXG5cdCAtLWJhY2tncm91bmQ6ICNGN0Y3Rjc7XHJcbn1cclxuLndyYXBwZXJ7XHJcblx0d2lkdGg6OTAlO1xyXG5cdG1hcmdpbjoxMCUgYXV0bztcclxufVxyXG4ubGluZWRpdntcclxuXHRkaXNwbGF5OiBmbGV4O1xyXG59XHJcbi5sZWZ0bGluZXtcclxuXHRib3JkZXItdG9wOiAxcHggc29saWQgI0JGQkZCRjtcclxuICB3aWR0aDogNDAlO1xyXG59XHJcbi5sYWJlbHtcclxuXHRjb2xvcjogI0JGQkZCRjtcclxuICAgIGZvbnQtc2l6ZTogOHB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbWFyZ2luLXRvcDogLTEuNSU7XHJcbiAgICBtYXJnaW4tbGVmdDogMyU7XHJcbiAgICB3aWR0aDogMTMlO1xyXG59XHJcbi5yaWdodGxpbmV7XHJcblx0Ym9yZGVyLXRvcDogMXB4IHNvbGlkICNCRkJGQkY7XHJcbiAgd2lkdGg6IDQwJTtcclxuICAgIG1hcmdpbi1sZWZ0OiAzJTtcclxufVxyXG4ubWFpbntcclxuXHR3aWR0aDogOTAlO1xyXG4gLyogZGlzcGxheTogZmxleDsqL1xyXG4gIG1hcmdpbjogNSUgYXV0bztcclxufVxyXG4ubGVmdHtcclxuXHR3aWR0aDogMTglO1xyXG5cdGZsb2F0OiBsZWZ0O1xyXG5cdG1hcmdpbi10b3A6IDMlXHJcbn1cclxuLmxlZnQgaW1ne1xyXG4gIHdpZHRoOiA0NHB4O1xyXG4gIGhlaWdodDogNDRweDtcclxuICBib3JkZXItcmFkaXVzOiA1MHB4O1xyXG59XHJcbi5yaWdodHtcclxuXHRkaXNwbGF5OiBmbGV4O1xyXG4gIC8qanVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsqL1xyXG59XHJcbi50ZXh0e1xyXG4gIHBhZGRpbmctdG9wOiAyJTtcclxuXHJcbn1cclxuLnRleHQgcHtcclxuXHRtYXJnaW46IDBweDtcclxuICAvKnBhZGRpbmc6IDUlOyovXHJcbiAgYmFja2dyb3VuZDogI0VCRUJFQjtcclxuICBwYWRkaW5nOiA4cHggMTJweDtcclxuICB3aWR0aDogYXV0bztcclxuICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gIC8qZmxvYXQ6IGxlZnQ7Ki9cclxuICBtYXgtd2lkdGg6IDI1MHB4O1xyXG59XHJcbi5jbGVhcntcclxuXHRjbGVhcjogYm90aDtcclxufVxyXG4udGltZXtcclxuICBjb2xvcjojQkZCRkJGO1xyXG4gIGZvbnQtc2l6ZTo4cHg7XHJcbiAgbWFyZ2luLXRvcDogMiU7XHJcbn1cclxuXHJcbi5tYWluMntcclxuXHR3aWR0aDogOTAlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgbWFyZ2luOiA1JSBhdXRvO1xyXG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcbn1cclxuLnJpZ2h0MXtcclxuICB3aWR0aDogOTAlO1xyXG4gIGZsb2F0OiBsZWZ0O1xyXG59XHJcbi50ZXh0MXtcclxuXHRiYWNrZ3JvdW5kOiAjRkU5ODA1O1xyXG4gIHBhZGRpbmc6IDhweCAxMnB4O1xyXG4gIHdpZHRoOiBhdXRvO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgZmxvYXQ6IHJpZ2h0O1xyXG4gIGNvbG9yOiAjZmZmO1xyXG4gIG1heC13aWR0aDogLXdlYmtpdC1maWxsLWF2YWlsYWJsZTtcclxufVxyXG4udGV4dDEgcHtcclxuXHRtYXJnaW46IDBweDtcclxuICAgIHBhZGRpbmc6IDUlO1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbn1cclxuLmJvdHRvbWRpdntcclxuXHRkaXNwbGF5OiBmbGV4O1xyXG4gICAgcGFkZGluZzogMyUgMiU7XHJcbn1cclxuLmltZ2RpdntcclxuXHR3aWR0aDogMTUlO1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICBtYXJnaW4tdG9wOiAyJTtcclxufVxyXG4uaW5wdXRkaXZ7XHJcblx0Ym9yZGVyLXJhZGl1czogOHB4O1xyXG4gICAgYmFja2dyb3VuZDogI0Y2RjZGNjtcclxuICAgIHdpZHRoOiA4MCU7XHJcbiAgICBmbG9hdDogbGVmdDtcclxufVxyXG4ucGlucHV0e1xyXG5cdGZvbnQtc2l6ZTogMTVweDtcclxuICBjb2xvcjogIzAwMDtcclxuICBwYWRkaW5nOiAwJSAzJTtcclxuICB3aWR0aDogODUlO1xyXG4gIGZsb2F0OiBsZWZ0O1xyXG59XHJcbi5jaW1ne1xyXG5cdHdpZHRoOiA4JTtcclxuICBmbG9hdDogbGVmdDtcclxuICBtYXJnaW4tdG9wOiA2JTtcclxufVxyXG5cclxuXHJcblxyXG5cclxuLnVzZXJpbWFnZXtcclxuICAgIHdpZHRoOjEwJTtcclxuICAgIGZsb2F0OiByaWdodDtcclxuICB9XHJcbiAgLnVzZXJpbWFnZSBpbWd7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MHB4O1xyXG4gICAgd2lkdGg6IDI4cHg7XHJcbiAgICBoZWlnaHQ6IDI4cHg7XHJcbiAgfVxyXG4gIC5yaWdodC1idWJibGV7XHJcbiAgICB3aWR0aDogOTAlO1xyXG4gICAgZmxvYXQ6bGVmdDtcclxuICAgIG1hcmdpbi1ib3R0b206IDIlO1xyXG4gIH1cclxuICAudXNlci1tZXNzYWdle1xyXG4gICAgd2lkdGg6IGF1dG87XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkYzQjVCO1xyXG4gICAgcGFkZGluZzogM3B4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgZmxvYXQ6IHJpZ2h0O1xyXG4gICAgcGFkZGluZzogNXB4O1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBtYXgtd2lkdGg6IDUwJTtcclxuICAgIG1pbi13aWR0aDogMjAlO1xyXG4gIH1cclxuICAudXNlci1tZXNzYWdlIHB7XHJcbiAgICBjb2xvcjojZmZmO1xyXG4gICAgbWFyZ2luLXRvcDogMyU7XHJcbiAgfSJdfQ== */\";","import { Component, OnInit,ViewChild,ElementRef } from '@angular/core';\r\nimport { NavController,IonContent,AlertController} from '@ionic/angular';\r\nimport {Router, ActivatedRoute} from '@angular/router';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\r\nimport { RestService } from \"../services/rest.service\";\r\nimport { LoadingService } from \"../services/loading.service\";\r\nimport {\r\n  FileTransfer,\r\n  FileUploadOptions,\r\n  FileTransferObject,\r\n} from \"@ionic-native/file-transfer/ngx\";\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-inbox',\r\n  templateUrl: './inbox.page.html',\r\n  styleUrls: ['./inbox.page.scss'],\r\n})\r\nexport class InboxPage implements OnInit {\r\n\t@ViewChild(IonContent) content: IonContent;\r\n  // @ViewChild(IonContent, {read: IonContent, static: false}) myContent: IonContent;\r\n  // @ViewChild('allnewmessages') allnewmessages:ElementRef;\r\n\r\n  messages = [];\r\n\tmessage: any;\r\n\tdata = { type:'', name:'', message:'' };\r\n\r\n\tlogeduser:any;\r\n\tloggedprofile:any;\r\n\tloggedid:any;\r\n  caregiverid:any;\r\n  profile:any;\r\n  recieverid:any;\r\n  currentTime:any;\r\n  error = {\r\n    status: false,\r\n    message: \"\",\r\n  };\r\n  image:any;\r\n  name:any;\r\n  chatImagesArray=[];\r\n  private autoSaveInterval: any;\r\n  constructor(public navCtrl: NavController,\r\n  \tprivate activatedRoute:ActivatedRoute,\r\n    public alertController:AlertController,\r\n    private rest: RestService,\r\n    private transfer: FileTransfer,\r\n    private camera: Camera,\r\n    public loading:LoadingService) { }\r\n\r\n  ngOnInit() {\r\n\r\n  \tthis.logeduser=JSON.parse(localStorage.getItem('user'))\r\n  \tconsole.log('loagged details',this.logeduser);\r\n  \tthis.loggedid=this.logeduser.users_id\r\n  \tconsole.log('loagged details',this.loggedid);\r\n\r\n  \tthis.recieverid = this.activatedRoute.snapshot.params[\"id\"];\r\n  \tconsole.log('recieverid',this.recieverid);\r\n\r\n    this.name = this.activatedRoute.snapshot.params[\"name\"];\r\n    console.log('name:',this.name);\r\n  }\r\n\r\n  goback(){\r\n  \tthis.navCtrl.navigateBack('/chat');\r\n    clearInterval(this.autoSaveInterval);\r\n  }\r\n  ionViewWillEnter(){\r\n    this.scrollDown();\r\n\r\n    // Get all  messages....\r\n    this.getMessages();\r\n    this.autoSaveInterval = setInterval(() => {\r\n      this.updateMessages();\r\n    }, 2000);\r\n  }\r\n  ionViewWillLeave() {\r\n    clearInterval(this.autoSaveInterval);\r\n    console.log(\"clear\");\r\n  }\r\n\r\n  userTyping(event: any) {\r\n    this.scrollDown();\r\n  }\r\n  updateMessages() {\r\n    // geting all chats Messages\r\n    this.rest\r\n      .sendRequest(\r\n        \"chat\",\r\n        {\r\n          requestType: \"updateMessages\",\r\n          userId : this.loggedid,\r\n          otherUserId: this.recieverid,\r\n        },\r\n      )\r\n      .subscribe(async (res: any) => {\r\n        console.log('update response',res);\r\n        if (res.status == \"success\") {\r\n          let unread_messages = res.data.unread_messages;\r\n          let chatLength = res.data.chat_length;\r\n          console.log(\"receving All chats unread messages\", unread_messages);\r\n          if (unread_messages.length > 0) {\r\n            if (chatLength != unread_messages.length) {\r\n              for (var i = 0; i < unread_messages.length; i++) {\r\n                this.messages.push({\r\n                  userId: unread_messages[i].userId,\r\n                  time: unread_messages[i].time,\r\n                  message: unread_messages[i].message,\r\n                  messageType: unread_messages[i].msgType,\r\n                  profilepic:unread_messages[i].profile_pic\r\n                });\r\n              }\r\n              this.scrollDown();\r\n            }\r\n          }\r\n          \r\n        } \r\n      });\r\n  }\r\n  \r\n  getMessages() {\r\n    console.log(\"logged in user\", this.loggedid);\r\n    console.log(\"recieverid in user\", this.recieverid);\r\n    // geting all chats Messages\r\n    this.rest\r\n      .sendRequest(\r\n        \"chat\",\r\n        {\r\n          requestType: \"getMessages\",\r\n          userId : this.loggedid,\r\n          otherUserId: this.recieverid,\r\n        },\r\n      )\r\n      .subscribe(async (res: any) => {\r\n        this.scrollDown();\r\n        console.log(\"get messages response\", res);\r\n        if (res.status == \"success\") {\r\n          this.error.status = false;\r\n          res.data.chat_messages.forEach(val=>{\r\n            if(val.profile_pic=='' || val.profile_pic==null){\r\n              this.image='assets/imgs/userprofile.png'\r\n            }else{\r\n              this.image=val.profile_pic\r\n            }\r\n\r\n            let obj={\r\n              userId:val.userId,\r\n              name:val.name,\r\n              profilepic:this.image,\r\n              message:val.message,\r\n              time:val.time,\r\n              messageType:val.msgType,\r\n              date:val.date\r\n            }\r\n            this.messages.push(obj)\r\n          })\r\n          // this.messages = res.data.chat_messages;\r\n          console.log(\"receving All chats messages\", this.messages);\r\n          this.messages.map((messages, index) => {\r\n            if (messages.messageType == \"attachment\") {\r\n              this.chatImagesArray.push({\r\n                image: messages.message,\r\n              });\r\n            }\r\n          });\r\n          console.log(\"allMsg array \", this.chatImagesArray);\r\n\r\n         \r\n        }\r\n         if (res.status == \"error\"){\r\n           this.error.status = true;\r\n          this.error.message = res.message;\r\n          return;\r\n         } \r\n      });\r\n  }\r\n\r\n  sendMsg() {\r\n  \tconsole.log('inmessages')\r\n    var time = new Date();\r\n\r\n    this.currentTime = time.toLocaleString(\"en-US\", {\r\n      hour: \"numeric\",\r\n      minute: \"numeric\",\r\n      hour12: false,\r\n    });\r\n    console.log('currentTime',this.currentTime)\r\n    if( this.data.message!='' ){\r\n      var d = moment().format('LLLL');\r\n      let splitdate = d.split(',');\r\n      let date = splitdate[1];\r\n\r\n      let time = moment().format('LT'); \r\n      console.log('date',splitdate);\r\n      let dateformatted = time;\r\n      console.log('formatted date',dateformatted)\r\n      console.log('user ids are = ',this.loggedid, this.recieverid);\r\n      let messsage = {\r\n        userId: this.loggedid,\r\n        message: this.data.message,\r\n        time: this.currentTime,\r\n        messageType: \"text\"\r\n      }\r\n      \r\n      this.messages.push(messsage);\r\n      console.log('push messages',this.messages)\r\n      let msgToSend = this.data.message;\r\n      this.data.message = '';\r\n      this.scrollDown();\r\n      this.sendMessage(this.recieverid, msgToSend, \"text\");\r\n      \r\n    }\r\n  }\r\n\r\n  sendMessage(senderUserID, msg, type){\r\n    let fiedlstosend = {\r\n      requestType : \"sendMessage\",\r\n      userId: this.loggedid,\r\n      otherUserId:senderUserID,\r\n      content: msg,\r\n      sendingTime: this.currentTime,\r\n      messageType: type\r\n    }\r\n    this.rest.sendRequest('chat',fiedlstosend).subscribe((res: any) => {\r\n      console.log(\"send msg response\",res);\r\n    });\r\n  }\r\n\r\n\r\n  async selectImages(imageType) {\r\n    const alert = await this.alertController.create({\r\n      cssClass: \"alertclassimg\",\r\n      header: \"Select Attachment\",\r\n      buttons: [\r\n        {\r\n          text: \"Choose from Gallery\",\r\n          handler: (res) => this.takePhotoFromGallery(imageType),\r\n        },\r\n        {\r\n          text: \"Camera\",\r\n          handler: (res) => this.takePhotoFromCamera(imageType),\r\n        },\r\n\r\n        {\r\n          text: \"Cancel\",\r\n        },\r\n      ],\r\n    });\r\n    await alert.present();\r\n    await alert.onDidDismiss();\r\n  }\r\n\r\n  async takePhotoFromGallery(imageType) {\r\n    const options: CameraOptions = {\r\n      quality: 100,\r\n      // allowEdit: true,\r\n      destinationType: this.camera.DestinationType.DATA_URL,\r\n      encodingType: this.camera.EncodingType.JPEG,\r\n      mediaType: this.camera.MediaType.PICTURE,\r\n      correctOrientation: true,\r\n      sourceType: 0,\r\n    };\r\n    await this.camera.getPicture(options).then((imageData: any) => {\r\n      var time = new Date();\r\n\r\n      this.currentTime = time.toLocaleString(\"en-US\", {\r\n        hour: \"numeric\",\r\n        minute: \"numeric\",\r\n        hour12: false,\r\n      });\r\n\r\n      let imagedata = `data:image/png;base64,${imageData}`;\r\n      console.log(\"select from gallary\", imagedata);\r\n      this.messages.push({\r\n       requestType : \"sendMessage\",\r\n        userId: this.loggedid,\r\n        otherUserId:this.recieverid,\r\n        message: imagedata,\r\n        sendingTime: this.currentTime,\r\n        messageType: \"attachment\"\r\n      });\r\n      console.log(\"image added from gallary\", this.messages);\r\n      this.loading.presentLoader(\"Uploading image\");\r\n      this.uploadChatImage(imagedata);\r\n    });\r\n  }\r\n  async takePhotoFromCamera(imageType) {\r\n    const options: CameraOptions = {\r\n      quality: 100,\r\n      // allowEdit: true,\r\n      destinationType: this.camera.DestinationType.DATA_URL,\r\n      encodingType: this.camera.EncodingType.JPEG,\r\n      mediaType: this.camera.MediaType.PICTURE,\r\n      saveToPhotoAlbum: false,\r\n      correctOrientation: true,\r\n    };\r\n\r\n    await this.camera.getPicture(options).then(\r\n      (imageData: any) => {\r\n        var time = new Date();\r\n\r\n        this.currentTime = time.toLocaleString(\"en-US\", {\r\n          hour: \"numeric\",\r\n          minute: \"numeric\",\r\n          hour12: false,\r\n        });\r\n\r\n        let imagedata = `data:image/png;base64,${imageData}`;\r\n        console.log(\"select from Camera\", imagedata);\r\n        this.messages.push({\r\n          requestType : \"sendMessage\",\r\n          userId: this.loggedid,\r\n          otherUserId:this.recieverid,\r\n          message: imagedata,\r\n          sendingTime: this.currentTime,\r\n          messageType: \"attachment\"\r\n        });\r\n        console.log(\"image added from gallary\", this.messages);\r\n        this.loading.presentLoader(\"Uploading image\");\r\n        this.uploadChatImage(imagedata);\r\n        // setTimeout(() => {\r\n        //   this.extras.dismiss();\r\n        //   this.scrollDown();\r\n        // }, 5000);\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n      }\r\n    );\r\n  }\r\n\r\n  uploadChatImage(imageData) {\r\n    console.log(this.recieverid,'id recieverid')\r\n    const fileTransfer: FileTransferObject = this.transfer.create();\r\n    const random = Math.floor(Math.random() * 100);\r\n    const options: FileUploadOptions = {\r\n      fileKey: \"attachment\",\r\n      fileName: \"myChat_\" + random + \".jpg\",\r\n      chunkedMode: false,\r\n      httpMethod: \"post\",\r\n      mimeType: \"image/jpeg\",\r\n      headers: {},\r\n      params: {\r\n        image: \"YPOP\",\r\n      },\r\n    };\r\n    fileTransfer\r\n      .upload(\r\n        imageData,\r\n        \"https://admin.uniqkidzapp.com/api/upload_attachment\",\r\n        options\r\n      )\r\n      .then(\r\n        async (data: any) => {\r\n          let newProfImage = JSON.parse(data.response);\r\n          console.log('newProfImage',newProfImage)\r\n          let getimage=newProfImage.data\r\n          console.log('get image only',getimage)\r\n          console.log(\"Image name after uploading\", getimage);\r\n          this.sendMessage(\r\n            this.recieverid,\r\n            getimage,\r\n            \"attachment\"\r\n          );\r\n          this.loading.dismiss();\r\n          this.scrollDown();\r\n        },\r\n        (err) => {\r\n          this.loading.dismiss();\r\n          console.log(\"Error\");\r\n          console.log(err);\r\n          return;\r\n        }\r\n      );\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  scrollDown() {\r\n    this.content.scrollToBottom(50);\r\n    \r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { InboxPage } from './inbox.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: InboxPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class InboxPageRoutingModule {}\r\n"]}