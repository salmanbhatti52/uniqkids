{"version":3,"sources":["webpack:///src/app/inbox/inbox.page.html","webpack:///src/app/inbox/inbox.module.ts","webpack:///src/app/inbox/inbox.page.scss","webpack:///src/app/inbox/inbox.page.ts","webpack:///src/app/inbox/inbox-routing.module.ts"],"names":["InboxPageModule","imports","declarations","InboxPage","navCtrl","activatedRoute","alertController","rest","transfer","camera","loading","messages","data","type","name","message","error","status","chatImagesArray","logeduser","JSON","parse","localStorage","getItem","console","log","loggedid","users_id","recieverid","snapshot","params","navigateBack","clearInterval","autoSaveInterval","scrollDown","getMessages","setInterval","updateMessages","event","sendRequest","requestType","userId","otherUserId","subscribe","res","unread_messages","chatLength","chat_length","length","i","push","time","messageType","msgType","profilepic","profile_pic","chat_messages","forEach","val","image","obj","date","map","index","Date","currentTime","toLocaleString","hour","minute","hour12","d","format","splitdate","split","dateformatted","messsage","msgToSend","sendMessage","senderUserID","msg","fiedlstosend","content","sendingTime","imageType","create","cssClass","header","buttons","text","handler","takePhotoFromGallery","takePhotoFromCamera","alert","present","onDidDismiss","options","quality","destinationType","DestinationType","DATA_URL","encodingType","EncodingType","JPEG","mediaType","MediaType","PICTURE","correctOrientation","sourceType","getPicture","then","imageData","imagedata","presentLoader","uploadChatImage","saveToPhotoAlbum","err","fileTransfer","random","Math","floor","fileKey","fileName","chunkedMode","httpMethod","mimeType","headers","upload","newProfImage","response","getimage","dismiss","scrollToBottom","selector","template","routes","path","component","InboxPageRoutingModule","forChild","exports"],"mappings":"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","file":"inbox-inbox-module-es5.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\" class=\\\"ion-no-border cheader\\\">\\n\\t <ion-toolbar class=\\\"headBgGlobal\\\">\\n\\t<ion-row>\\n\\t  <ion-col class=\\\"backbtn\\\" size=\\\"2\\\">\\n\\t\\t<div>\\n\\t\\t  <img src=\\\"assets/imgs/icons/backbtn.svg\\\" class=\\\"backSvg\\\" (click)=\\\"goback()\\\">\\n\\t\\t</div>\\n\\t  </ion-col>\\n\\n\\t  <ion-col class=\\\"titleclass\\\" size=\\\"8\\\">\\n\\t\\t<ion-text class=\\\"ctitle\\\">{{name}}</ion-text>\\n\\t  </ion-col>\\n\\n\\t  <ion-col size=\\\"2\\\">\\n\\n\\t  </ion-col>\\n\\t</ion-row>\\n\\t\\t<!-- <ion-buttons slot=\\\"start\\\" class=\\\"backbtn\\\">\\n\\t\\t\\t  <img src=\\\"assets/imgs/icons/backbtn.svg\\\" class=\\\"backSvg\\\" (click)=\\\"goback()\\\">\\n\\t\\t  </ion-buttons>\\n\\t   <ion-title class=\\\"ctitle\\\">{{name}}</ion-title> -->\\n\\t</ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"background\\\">\\n\\t<div class=\\\"wrapper\\\">\\n\\t\\t<div  no-lines *ngFor=\\\"let chat of messages\\\">\\t\\n\\t\\t\\t<div class=\\\"linediv\\\" *ngIf=\\\"chat.date\\\">\\n\\t\\t\\t\\t<div class=\\\"leftline\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"label\\\">{{chat.date}}</div>\\n\\t\\t\\t\\t<div class=\\\"rightline\\\"></div>\\n\\t\\t\\t</div>\\t\\n\\t\\t\\t<div *ngIf=\\\"chat.userId!=loggedid\\\">\\n\\t\\t\\t\\t<div class=\\\"main\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"left\\\">\\n\\t\\t\\t\\t\\t\\t<img src=\\\"{{chat.profilepic}}\\\">\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"chat.messageType=='text'\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"right\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"text\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<p>{{chat.message}}</p>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"time\\\">{{chat.time}}</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"chat.messageType=='attachment'\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"right\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"text\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<img class=\\\"attachment_sender\\\" src=\\\"{{chat.message}}\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"time\\\">{{chat.time}}</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"clear\\\"></div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t\\n\\n\\t\\t\\t<div class=\\\"main2\\\" *ngIf=\\\"chat.userId==loggedid\\\">\\n\\t\\t\\t\\t<div class=\\\"right1\\\">\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"chat.messageType=='text'\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"text1\\\" >\\n\\t\\t\\t\\t\\t\\t\\t{{chat.message}}\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"chat.messageType=='attachment'\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"text1\\\">\\n\\t\\t\\t\\t<img class=\\\"attachment_sender\\\" src=\\\"{{chat.message}}\\\" />\\n\\t\\t\\t  </div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t<div class=\\\"clear\\\"></div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t\\n\\n\\t\\t\\n\\n\\t\\t<!-- <div class=\\\"main2\\\">\\n\\t\\t\\t<div class=\\\"right\\\">\\n\\t\\t\\t\\t<img src=\\\"assets/imgs/msgimg.png\\\">\\n\\t\\t\\t</div>\\n\\t\\t</div> -->\\n\\t</div>\\n\\n</ion-content>\\n<ion-footer>\\n  <ion-toolbar>\\n\\t<div class=\\\"bottomdiv\\\">\\n\\t\\t<div class=\\\"imgdiv\\\" (click)=\\\"selectImages('profile')\\\">\\n\\t\\t\\t<img src=\\\"assets/imgs/icons/attachment.png\\\">\\n\\t\\t</div>\\n\\t\\t<div class=\\\"inputdiv\\\">\\n\\t\\t\\t\\t<div class=\\\"pinput\\\">\\n\\t\\t\\t\\t\\t<!-- <ion-input placeholder=\\\"Type Your message here...\\\" type=\\\"text\\\" [(ngModel)]=\\\"data.message\\\"></ion-input> -->\\n\\t\\t\\t\\t\\t<ion-textarea\\n\\t\\t\\tclass=\\\"input\\\"\\n\\t\\t\\trows=\\\"1\\\"\\n\\t\\t\\tcols=\\\"20\\\"\\n\\t\\t\\t[(ngModel)]=\\\"data.message\\\"\\n\\t\\t\\tplaceholder=\\\"Type Your message here...\\\"\\n\\t\\t\\t(keypress)=\\\"userTyping($event)\\\"\\n\\t\\t  ></ion-textarea>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<img src=\\\"assets/imgs/icons/send.png\\\" class=\\\"cimg\\\" (click)=\\\"sendMsg()\\\">\\n\\t\\t\\t\\t<div class=\\\"clear\\\"></div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"clear\\\"></div>\\n\\t</div>\\n  </ion-toolbar>\\n</ion-footer>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { InboxPageRoutingModule } from './inbox-routing.module';\n\nimport { InboxPage } from './inbox.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    InboxPageRoutingModule\n  ],\n  declarations: [InboxPage]\n})\nexport class InboxPageModule {}\n","export default \".headBg {\\n  --background: #F7F7F7;\\n  padding: 1% 0%;\\n}\\n\\n.menuicon {\\n  color: #000;\\n}\\n\\n.backbtn {\\n  margin-left: 0%;\\n  padding-top: 10px;\\n  padding-left: 18px;\\n}\\n\\n.backSvg {\\n  fill: #333;\\n}\\n\\n.ctitle {\\n  font-size: 18px;\\n  font-weight: 600;\\n}\\n\\n.titleclass {\\n  text-align: center;\\n  padding-top: 8px;\\n}\\n\\n.ios .titleclass {\\n  text-align: center;\\n  padding-top: 11px;\\n}\\n\\n.ios .backbtn {\\n  margin-left: 0%;\\n  padding-top: 12px;\\n  padding-left: 18px;\\n}\\n\\n.ios .headBg {\\n  --background: #F7F7F7;\\n  padding: 3% 0%;\\n}\\n\\n.background {\\n  --background: #F7F7F7;\\n}\\n\\n.wrapper {\\n  width: 90%;\\n  margin: 10% auto;\\n}\\n\\n.linediv {\\n  display: flex;\\n}\\n\\n.leftline {\\n  border-top: 1px solid #BFBFBF;\\n  width: 40%;\\n}\\n\\n.label {\\n  color: #BFBFBF;\\n  font-size: 8px;\\n  text-align: center;\\n  margin-top: -1.5%;\\n  margin-left: 3%;\\n  width: 13%;\\n}\\n\\n.rightline {\\n  border-top: 1px solid #BFBFBF;\\n  width: 40%;\\n  margin-left: 3%;\\n}\\n\\n.main {\\n  width: 90%;\\n  /* display: flex;*/\\n  margin: 5% auto;\\n}\\n\\n.left {\\n  width: 18%;\\n  float: left;\\n  margin-top: 3%;\\n}\\n\\n.left img {\\n  width: 44px;\\n  height: 44px;\\n  border-radius: 50px;\\n}\\n\\n.right {\\n  display: flex;\\n  /*justify-content: flex-end;*/\\n}\\n\\n.text {\\n  padding-top: 2%;\\n}\\n\\n.text p {\\n  margin: 0px;\\n  /*padding: 5%;*/\\n  background: #EBEBEB;\\n  padding: 8px 12px;\\n  width: auto;\\n  border-radius: 10px;\\n  /*float: left;*/\\n  max-width: 250px;\\n}\\n\\n.clear {\\n  clear: both;\\n}\\n\\n.time {\\n  color: #BFBFBF;\\n  font-size: 8px;\\n  margin-top: 2%;\\n}\\n\\n.main2 {\\n  width: 90%;\\n  display: flex;\\n  margin: 5% auto;\\n  justify-content: flex-end;\\n}\\n\\n.right1 {\\n  width: 90%;\\n  float: left;\\n}\\n\\n.text1 {\\n  background: #FE9805;\\n  padding: 8px 12px;\\n  width: auto;\\n  border-radius: 10px;\\n  float: right;\\n  color: #fff;\\n  max-width: -webkit-fill-available;\\n}\\n\\n.text1 p {\\n  margin: 0px;\\n  padding: 5%;\\n  color: #fff;\\n}\\n\\n.bottomdiv {\\n  display: flex;\\n  padding: 3% 2%;\\n}\\n\\n.imgdiv {\\n  width: 15%;\\n  float: left;\\n  margin-top: 2%;\\n}\\n\\n.inputdiv {\\n  border-radius: 8px;\\n  background: #F6F6F6;\\n  width: 80%;\\n  float: left;\\n}\\n\\n.pinput {\\n  font-size: 15px;\\n  color: #000;\\n  padding: 0% 3%;\\n  width: 85%;\\n  float: left;\\n}\\n\\n.cimg {\\n  width: 8%;\\n  float: left;\\n  margin-top: 6%;\\n}\\n\\n.userimage {\\n  width: 10%;\\n  float: right;\\n}\\n\\n.userimage img {\\n  border-radius: 50px;\\n  width: 28px;\\n  height: 28px;\\n}\\n\\n.right-bubble {\\n  width: 90%;\\n  float: left;\\n  margin-bottom: 2%;\\n}\\n\\n.user-message {\\n  width: auto;\\n  background-color: #FF3B5B;\\n  padding: 3px;\\n  border-radius: 5px;\\n  float: right;\\n  padding: 5px;\\n  color: #fff;\\n  max-width: 50%;\\n  min-width: 20%;\\n}\\n\\n.user-message p {\\n  color: #fff;\\n  margin-top: 3%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2luYm94LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHFCQUFBO0VBQ0EsY0FBQTtBQUNGOztBQUNBO0VBQ0MsV0FBQTtBQUVEOztBQUFBO0VBQ0MsZUFBQTtFQUNDLGlCQUFBO0VBQ0Esa0JBQUE7QUFHRjs7QUFEQTtFQUNFLFVBQUE7QUFJRjs7QUFEQTtFQUVFLGVBQUE7RUFDRSxnQkFBQTtBQUdKOztBQURBO0VBQ0Msa0JBQUE7RUFBb0IsZ0JBQUE7QUFLckI7O0FBRkM7RUFDQyxrQkFBQTtFQUFvQixpQkFBQTtBQU10Qjs7QUFKRTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0FBTUo7O0FBSkU7RUFDRSxxQkFBQTtFQUNBLGNBQUE7QUFNSjs7QUFIQTtFQUNFLHFCQUFBO0FBTUY7O0FBSkE7RUFDQyxVQUFBO0VBQ0EsZ0JBQUE7QUFPRDs7QUFMQTtFQUNDLGFBQUE7QUFRRDs7QUFOQTtFQUNDLDZCQUFBO0VBQ0MsVUFBQTtBQVNGOztBQVBBO0VBQ0MsY0FBQTtFQUNHLGNBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLFVBQUE7QUFVSjs7QUFSQTtFQUNDLDZCQUFBO0VBQ0MsVUFBQTtFQUNFLGVBQUE7QUFXSjs7QUFUQTtFQUNDLFVBQUE7RUFDQSxrQkFBQTtFQUNDLGVBQUE7QUFZRjs7QUFWQTtFQUNDLFVBQUE7RUFDQSxXQUFBO0VBQ0EsY0FBQTtBQWFEOztBQVhBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxtQkFBQTtBQWNGOztBQVpBO0VBQ0MsYUFBQTtFQUNDLDZCQUFBO0FBZUY7O0FBYkE7RUFDRSxlQUFBO0FBZ0JGOztBQWJBO0VBQ0MsV0FBQTtFQUNDLGVBQUE7RUFDQSxtQkFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FBZ0JGOztBQWRBO0VBQ0MsV0FBQTtBQWlCRDs7QUFmQTtFQUNFLGNBQUE7RUFDQSxjQUFBO0VBQ0EsY0FBQTtBQWtCRjs7QUFmQTtFQUNDLFVBQUE7RUFDQyxhQUFBO0VBQ0EsZUFBQTtFQUNBLHlCQUFBO0FBa0JGOztBQWhCQTtFQUNFLFVBQUE7RUFDQSxXQUFBO0FBbUJGOztBQWpCQTtFQUNDLG1CQUFBO0VBQ0MsaUJBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGlDQUFBO0FBb0JGOztBQWxCQTtFQUNDLFdBQUE7RUFDRyxXQUFBO0VBQ0EsV0FBQTtBQXFCSjs7QUFuQkE7RUFDQyxhQUFBO0VBQ0csY0FBQTtBQXNCSjs7QUFwQkE7RUFDQyxVQUFBO0VBQ0csV0FBQTtFQUNBLGNBQUE7QUF1Qko7O0FBckJBO0VBQ0Msa0JBQUE7RUFDRyxtQkFBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0FBd0JKOztBQXRCQTtFQUNDLGVBQUE7RUFDQyxXQUFBO0VBQ0EsY0FBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0FBeUJGOztBQXZCQTtFQUNDLFNBQUE7RUFDQyxXQUFBO0VBQ0EsY0FBQTtBQTBCRjs7QUFwQkE7RUFDSSxVQUFBO0VBQ0EsWUFBQTtBQXVCSjs7QUFyQkU7RUFDRSxtQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FBd0JKOztBQXRCRTtFQUNFLFVBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7QUF5Qko7O0FBdkJFO0VBQ0UsV0FBQTtFQUNBLHlCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsY0FBQTtFQUNBLGNBQUE7QUEwQko7O0FBeEJFO0VBQ0UsV0FBQTtFQUNBLGNBQUE7QUEyQkoiLCJmaWxlIjoiaW5ib3gucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmhlYWRCZyB7XHJcbiAgLS1iYWNrZ3JvdW5kOiAjRjdGN0Y3O1xyXG4gIHBhZGRpbmc6IDElIDAlO1xyXG59XHJcbi5tZW51aWNvbntcclxuXHRjb2xvcjojMDAwO1xyXG59XHJcbi5iYWNrYnRue1xyXG5cdG1hcmdpbi1sZWZ0OjAlO1xyXG4gIHBhZGRpbmctdG9wOjEwcHg7XHJcbiAgcGFkZGluZy1sZWZ0OiAxOHB4O1xyXG59XHJcbi5iYWNrU3ZnIHtcclxuICBmaWxsOiAjMzMzO1xyXG59XHJcblxyXG4uY3RpdGxle1xyXG5cdC8vIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBmb250LXNpemU6IDE4cHg7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG59XHJcbi50aXRsZWNsYXNze1xyXG5cdHRleHQtYWxpZ246IGNlbnRlcjsgcGFkZGluZy10b3A6IDhweDtcclxufVxyXG4uaW9ze1xyXG5cdC50aXRsZWNsYXNze1xyXG5cdFx0dGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nLXRvcDogMTFweDtcclxuXHR9XHJcbiAgLmJhY2tidG57XHJcbiAgICBtYXJnaW4tbGVmdDowJTtcclxuICAgIHBhZGRpbmctdG9wOjEycHg7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDE4cHg7XHJcbiAgfVxyXG4gIC5oZWFkQmcge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiAjRjdGN0Y3O1xyXG4gICAgcGFkZGluZzogMyUgMCU7XHJcbiAgfVxyXG59XHJcbi5iYWNrZ3JvdW5ke1xyXG5cdCAtLWJhY2tncm91bmQ6ICNGN0Y3Rjc7XHJcbn1cclxuLndyYXBwZXJ7XHJcblx0d2lkdGg6OTAlO1xyXG5cdG1hcmdpbjoxMCUgYXV0bztcclxufVxyXG4ubGluZWRpdntcclxuXHRkaXNwbGF5OiBmbGV4O1xyXG59XHJcbi5sZWZ0bGluZXtcclxuXHRib3JkZXItdG9wOiAxcHggc29saWQgI0JGQkZCRjtcclxuICB3aWR0aDogNDAlO1xyXG59XHJcbi5sYWJlbHtcclxuXHRjb2xvcjogI0JGQkZCRjtcclxuICAgIGZvbnQtc2l6ZTogOHB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbWFyZ2luLXRvcDogLTEuNSU7XHJcbiAgICBtYXJnaW4tbGVmdDogMyU7XHJcbiAgICB3aWR0aDogMTMlO1xyXG59XHJcbi5yaWdodGxpbmV7XHJcblx0Ym9yZGVyLXRvcDogMXB4IHNvbGlkICNCRkJGQkY7XHJcbiAgd2lkdGg6IDQwJTtcclxuICAgIG1hcmdpbi1sZWZ0OiAzJTtcclxufVxyXG4ubWFpbntcclxuXHR3aWR0aDogOTAlO1xyXG4gLyogZGlzcGxheTogZmxleDsqL1xyXG4gIG1hcmdpbjogNSUgYXV0bztcclxufVxyXG4ubGVmdHtcclxuXHR3aWR0aDogMTglO1xyXG5cdGZsb2F0OiBsZWZ0O1xyXG5cdG1hcmdpbi10b3A6IDMlXHJcbn1cclxuLmxlZnQgaW1ne1xyXG4gIHdpZHRoOiA0NHB4O1xyXG4gIGhlaWdodDogNDRweDtcclxuICBib3JkZXItcmFkaXVzOiA1MHB4O1xyXG59XHJcbi5yaWdodHtcclxuXHRkaXNwbGF5OiBmbGV4O1xyXG4gIC8qanVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsqL1xyXG59XHJcbi50ZXh0e1xyXG4gIHBhZGRpbmctdG9wOiAyJTtcclxuXHJcbn1cclxuLnRleHQgcHtcclxuXHRtYXJnaW46IDBweDtcclxuICAvKnBhZGRpbmc6IDUlOyovXHJcbiAgYmFja2dyb3VuZDogI0VCRUJFQjtcclxuICBwYWRkaW5nOiA4cHggMTJweDtcclxuICB3aWR0aDogYXV0bztcclxuICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gIC8qZmxvYXQ6IGxlZnQ7Ki9cclxuICBtYXgtd2lkdGg6IDI1MHB4O1xyXG59XHJcbi5jbGVhcntcclxuXHRjbGVhcjogYm90aDtcclxufVxyXG4udGltZXtcclxuICBjb2xvcjojQkZCRkJGO1xyXG4gIGZvbnQtc2l6ZTo4cHg7XHJcbiAgbWFyZ2luLXRvcDogMiU7XHJcbn1cclxuXHJcbi5tYWluMntcclxuXHR3aWR0aDogOTAlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgbWFyZ2luOiA1JSBhdXRvO1xyXG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcbn1cclxuLnJpZ2h0MXtcclxuICB3aWR0aDogOTAlO1xyXG4gIGZsb2F0OiBsZWZ0O1xyXG59XHJcbi50ZXh0MXtcclxuXHRiYWNrZ3JvdW5kOiAjRkU5ODA1O1xyXG4gIHBhZGRpbmc6IDhweCAxMnB4O1xyXG4gIHdpZHRoOiBhdXRvO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgZmxvYXQ6IHJpZ2h0O1xyXG4gIGNvbG9yOiAjZmZmO1xyXG4gIG1heC13aWR0aDogLXdlYmtpdC1maWxsLWF2YWlsYWJsZTtcclxufVxyXG4udGV4dDEgcHtcclxuXHRtYXJnaW46IDBweDtcclxuICAgIHBhZGRpbmc6IDUlO1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbn1cclxuLmJvdHRvbWRpdntcclxuXHRkaXNwbGF5OiBmbGV4O1xyXG4gICAgcGFkZGluZzogMyUgMiU7XHJcbn1cclxuLmltZ2RpdntcclxuXHR3aWR0aDogMTUlO1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICBtYXJnaW4tdG9wOiAyJTtcclxufVxyXG4uaW5wdXRkaXZ7XHJcblx0Ym9yZGVyLXJhZGl1czogOHB4O1xyXG4gICAgYmFja2dyb3VuZDogI0Y2RjZGNjtcclxuICAgIHdpZHRoOiA4MCU7XHJcbiAgICBmbG9hdDogbGVmdDtcclxufVxyXG4ucGlucHV0e1xyXG5cdGZvbnQtc2l6ZTogMTVweDtcclxuICBjb2xvcjogIzAwMDtcclxuICBwYWRkaW5nOiAwJSAzJTtcclxuICB3aWR0aDogODUlO1xyXG4gIGZsb2F0OiBsZWZ0O1xyXG59XHJcbi5jaW1ne1xyXG5cdHdpZHRoOiA4JTtcclxuICBmbG9hdDogbGVmdDtcclxuICBtYXJnaW4tdG9wOiA2JTtcclxufVxyXG5cclxuXHJcblxyXG5cclxuLnVzZXJpbWFnZXtcclxuICAgIHdpZHRoOjEwJTtcclxuICAgIGZsb2F0OiByaWdodDtcclxuICB9XHJcbiAgLnVzZXJpbWFnZSBpbWd7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MHB4O1xyXG4gICAgd2lkdGg6IDI4cHg7XHJcbiAgICBoZWlnaHQ6IDI4cHg7XHJcbiAgfVxyXG4gIC5yaWdodC1idWJibGV7XHJcbiAgICB3aWR0aDogOTAlO1xyXG4gICAgZmxvYXQ6bGVmdDtcclxuICAgIG1hcmdpbi1ib3R0b206IDIlO1xyXG4gIH1cclxuICAudXNlci1tZXNzYWdle1xyXG4gICAgd2lkdGg6IGF1dG87XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkYzQjVCO1xyXG4gICAgcGFkZGluZzogM3B4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgZmxvYXQ6IHJpZ2h0O1xyXG4gICAgcGFkZGluZzogNXB4O1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBtYXgtd2lkdGg6IDUwJTtcclxuICAgIG1pbi13aWR0aDogMjAlO1xyXG4gIH1cclxuICAudXNlci1tZXNzYWdlIHB7XHJcbiAgICBjb2xvcjojZmZmO1xyXG4gICAgbWFyZ2luLXRvcDogMyU7XHJcbiAgfSJdfQ== */\";","import { Component, OnInit,ViewChild,ElementRef } from '@angular/core';\nimport { NavController,IonContent,AlertController} from '@ionic/angular';\nimport {Router, ActivatedRoute} from '@angular/router';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { RestService } from \"../services/rest.service\";\nimport { LoadingService } from \"../services/loading.service\";\nimport {\n  FileTransfer,\n  FileUploadOptions,\n  FileTransferObject,\n} from \"@ionic-native/file-transfer/ngx\";\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-inbox',\n  templateUrl: './inbox.page.html',\n  styleUrls: ['./inbox.page.scss'],\n})\nexport class InboxPage implements OnInit {\n\t@ViewChild(IonContent) content: IonContent;\n  // @ViewChild(IonContent, {read: IonContent, static: false}) myContent: IonContent;\n  // @ViewChild('allnewmessages') allnewmessages:ElementRef;\n\n  messages = [];\n\tmessage: any;\n\tdata = { type:'', name:'', message:'' };\n\n\tlogeduser:any;\n\tloggedprofile:any;\n\tloggedid:any;\n  caregiverid:any;\n  profile:any;\n  recieverid:any;\n  currentTime:any;\n  error = {\n    status: false,\n    message: \"\",\n  };\n  image:any;\n  name:any;\n  chatImagesArray=[];\n  private autoSaveInterval: any;\n  constructor(public navCtrl: NavController,\n  \tprivate activatedRoute:ActivatedRoute,\n    public alertController:AlertController,\n    private rest: RestService,\n    private transfer: FileTransfer,\n    private camera: Camera,\n    public loading:LoadingService) { }\n\n  ngOnInit() {\n\n  \tthis.logeduser=JSON.parse(localStorage.getItem('user'))\n  \tconsole.log('loagged details',this.logeduser);\n  \tthis.loggedid=this.logeduser.users_id\n  \tconsole.log('loagged details',this.loggedid);\n\n  \tthis.recieverid = this.activatedRoute.snapshot.params[\"id\"];\n  \tconsole.log('recieverid',this.recieverid);\n\n    this.name = this.activatedRoute.snapshot.params[\"name\"];\n    console.log('name:',this.name);\n  }\n\n  goback(){\n  \tthis.navCtrl.navigateBack('/chat');\n    clearInterval(this.autoSaveInterval);\n  }\n  ionViewWillEnter(){\n    this.scrollDown();\n\n    // Get all  messages....\n    this.getMessages();\n    this.autoSaveInterval = setInterval(() => {\n      this.updateMessages();\n    }, 2000);\n  }\n  ionViewWillLeave() {\n    clearInterval(this.autoSaveInterval);\n    console.log(\"clear\");\n  }\n\n  userTyping(event: any) {\n    this.scrollDown();\n  }\n  updateMessages() {\n    // geting all chats Messages\n    this.rest\n      .sendRequest(\n        \"chat\",\n        {\n          requestType: \"updateMessages\",\n          userId : this.loggedid,\n          otherUserId: this.recieverid,\n        },\n      )\n      .subscribe(async (res: any) => {\n        console.log('update response',res);\n        if (res.status == \"success\") {\n          let unread_messages = res.data.unread_messages;\n          let chatLength = res.data.chat_length;\n          console.log(\"receving All chats unread messages\", unread_messages);\n          if (unread_messages.length > 0) {\n            if (chatLength != unread_messages.length) {\n              for (var i = 0; i < unread_messages.length; i++) {\n                this.messages.push({\n                  userId: unread_messages[i].userId,\n                  time: unread_messages[i].time,\n                  message: unread_messages[i].message,\n                  messageType: unread_messages[i].msgType,\n                  profilepic:unread_messages[i].profile_pic\n                });\n              }\n              this.scrollDown();\n            }\n          }\n          \n        } \n      });\n  }\n  \n  getMessages() {\n    console.log(\"logged in user\", this.loggedid);\n    console.log(\"recieverid in user\", this.recieverid);\n    // geting all chats Messages\n    this.rest\n      .sendRequest(\n        \"chat\",\n        {\n          requestType: \"getMessages\",\n          userId : this.loggedid,\n          otherUserId: this.recieverid,\n        },\n      )\n      .subscribe(async (res: any) => {\n        this.scrollDown();\n        console.log(\"get messages response\", res);\n        if (res.status == \"success\") {\n          this.error.status = false;\n          res.data.chat_messages.forEach(val=>{\n            if(val.profile_pic=='' || val.profile_pic==null){\n              this.image='assets/imgs/userprofile.png'\n            }else{\n              this.image=val.profile_pic\n            }\n\n            let obj={\n              userId:val.userId,\n              name:val.name,\n              profilepic:this.image,\n              message:val.message,\n              time:val.time,\n              messageType:val.msgType,\n              date:val.date\n            }\n            this.messages.push(obj)\n          })\n          // this.messages = res.data.chat_messages;\n          console.log(\"receving All chats messages\", this.messages);\n          this.messages.map((messages, index) => {\n            if (messages.messageType == \"attachment\") {\n              this.chatImagesArray.push({\n                image: messages.message,\n              });\n            }\n          });\n          console.log(\"allMsg array \", this.chatImagesArray);\n\n         \n        }\n         if (res.status == \"error\"){\n           this.error.status = true;\n          this.error.message = res.message;\n          return;\n         } \n      });\n  }\n\n  sendMsg() {\n  \tconsole.log('inmessages')\n    var time = new Date();\n\n    this.currentTime = time.toLocaleString(\"en-US\", {\n      hour: \"numeric\",\n      minute: \"numeric\",\n      hour12: false,\n    });\n    console.log('currentTime',this.currentTime)\n    if( this.data.message!='' ){\n      var d = moment().format('LLLL');\n      let splitdate = d.split(',');\n      let date = splitdate[1];\n\n      let time = moment().format('LT'); \n      console.log('date',splitdate);\n      let dateformatted = time;\n      console.log('formatted date',dateformatted)\n      console.log('user ids are = ',this.loggedid, this.recieverid);\n      let messsage = {\n        userId: this.loggedid,\n        message: this.data.message,\n        time: this.currentTime,\n        messageType: \"text\"\n      }\n      \n      this.messages.push(messsage);\n      console.log('push messages',this.messages)\n      let msgToSend = this.data.message;\n      this.data.message = '';\n      this.scrollDown();\n      this.sendMessage(this.recieverid, msgToSend, \"text\");\n      \n    }\n  }\n\n  sendMessage(senderUserID, msg, type){\n    let fiedlstosend = {\n      requestType : \"sendMessage\",\n      userId: this.loggedid,\n      otherUserId:senderUserID,\n      content: msg,\n      sendingTime: this.currentTime,\n      messageType: type\n    }\n    this.rest.sendRequest('chat',fiedlstosend).subscribe((res: any) => {\n      console.log(\"send msg response\",res);\n    });\n  }\n\n\n  async selectImages(imageType) {\n    const alert = await this.alertController.create({\n      cssClass: \"alertclassimg\",\n      header: \"Select Attachment\",\n      buttons: [\n        {\n          text: \"Choose from Gallery\",\n          handler: (res) => this.takePhotoFromGallery(imageType),\n        },\n        {\n          text: \"Camera\",\n          handler: (res) => this.takePhotoFromCamera(imageType),\n        },\n\n        {\n          text: \"Cancel\",\n        },\n      ],\n    });\n    await alert.present();\n    await alert.onDidDismiss();\n  }\n\n  async takePhotoFromGallery(imageType) {\n    const options: CameraOptions = {\n      quality: 100,\n      // allowEdit: true,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n      correctOrientation: true,\n      sourceType: 0,\n    };\n    await this.camera.getPicture(options).then((imageData: any) => {\n      var time = new Date();\n\n      this.currentTime = time.toLocaleString(\"en-US\", {\n        hour: \"numeric\",\n        minute: \"numeric\",\n        hour12: false,\n      });\n\n      let imagedata = `data:image/png;base64,${imageData}`;\n      console.log(\"select from gallary\", imagedata);\n      this.messages.push({\n       requestType : \"sendMessage\",\n        userId: this.loggedid,\n        otherUserId:this.recieverid,\n        message: imagedata,\n        sendingTime: this.currentTime,\n        messageType: \"attachment\"\n      });\n      console.log(\"image added from gallary\", this.messages);\n      this.loading.presentLoader(\"Uploading image\");\n      this.uploadChatImage(imagedata);\n    });\n  }\n  async takePhotoFromCamera(imageType) {\n    const options: CameraOptions = {\n      quality: 100,\n      // allowEdit: true,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n      saveToPhotoAlbum: false,\n      correctOrientation: true,\n    };\n\n    await this.camera.getPicture(options).then(\n      (imageData: any) => {\n        var time = new Date();\n\n        this.currentTime = time.toLocaleString(\"en-US\", {\n          hour: \"numeric\",\n          minute: \"numeric\",\n          hour12: false,\n        });\n\n        let imagedata = `data:image/png;base64,${imageData}`;\n        console.log(\"select from Camera\", imagedata);\n        this.messages.push({\n          requestType : \"sendMessage\",\n          userId: this.loggedid,\n          otherUserId:this.recieverid,\n          message: imagedata,\n          sendingTime: this.currentTime,\n          messageType: \"attachment\"\n        });\n        console.log(\"image added from gallary\", this.messages);\n        this.loading.presentLoader(\"Uploading image\");\n        this.uploadChatImage(imagedata);\n        // setTimeout(() => {\n        //   this.extras.dismiss();\n        //   this.scrollDown();\n        // }, 5000);\n      },\n      (err) => {\n        console.log(err);\n      }\n    );\n  }\n\n  uploadChatImage(imageData) {\n    console.log(this.recieverid,'id recieverid')\n    const fileTransfer: FileTransferObject = this.transfer.create();\n    const random = Math.floor(Math.random() * 100);\n    const options: FileUploadOptions = {\n      fileKey: \"attachment\",\n      fileName: \"myChat_\" + random + \".jpg\",\n      chunkedMode: false,\n      httpMethod: \"post\",\n      mimeType: \"image/jpeg\",\n      headers: {},\n      params: {\n        image: \"YPOP\",\n      },\n    };\n    fileTransfer\n      .upload(\n        imageData,\n        \"https://admin.uniqkidzapp.com/api/upload_attachment\",\n        options\n      )\n      .then(\n        async (data: any) => {\n          let newProfImage = JSON.parse(data.response);\n          console.log('newProfImage',newProfImage)\n          let getimage=newProfImage.data\n          console.log('get image only',getimage)\n          console.log(\"Image name after uploading\", getimage);\n          this.sendMessage(\n            this.recieverid,\n            getimage,\n            \"attachment\"\n          );\n          this.loading.dismiss();\n          this.scrollDown();\n        },\n        (err) => {\n          this.loading.dismiss();\n          console.log(\"Error\");\n          console.log(err);\n          return;\n        }\n      );\n  }\n\n\n\n\n\n\n\n\n  scrollDown() {\n    this.content.scrollToBottom(50);\n    \n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { InboxPage } from './inbox.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: InboxPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class InboxPageRoutingModule {}\n"]}